\documentclass[a4paper]{article}

\usepackage{amsmath,amsthm,amssymb}
\usepackage{tikz}
\usetikzlibrary{arrows}
\usetikzlibrary{external}
\tikzexternalize[prefix=figures/]

\tikzset{
every node/.style={circle, draw, inner sep=2pt},
every label/.style={rectangle, draw=none}
}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\verb|minspan|

\tikzsetnextfilename{minspan}
\begin{tikzpicture}
\node (1) at (0,0) {};
\node (2) at (1,0) {};
\node (3) at (2,0) {};
\node (4) at (0,1) {};
\node (5) at (1,1) {};
\node (6) at (2,1) {};

\draw (1) --node[midway,below,draw=none] {$1$} (2);
\draw (4) --node[midway,above,draw=none] {$1$} (5);
\draw (1) --node[midway,right,draw=none] {$1$} (4);
\draw (2) --node[midway,right,draw=none] {$1$} (5);
\draw (2) --node[midway,below,draw=none] {$2$} (3);
\draw (5) --node[midway,above,draw=none] {$2$} (6);
\draw (3) --node[midway,right,draw=none] {$2$} (6);
\end{tikzpicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\verb|simpleflow|

\tikzsetnextfilename{simpleflow}
\begin{tikzpicture}
\node[label={left:$S$}] (S) at (0,0) {};
\node (1) at (1,-1) {};
\node (2) at (1,0) {};
\node (3) at (1,1) {};
\node (4) at (2,-1) {};
\node (5) at (2,0) {};
\node (6) at (2,1) {};
\node[label={right:$T$}] (T) at (3,0) {};

\draw[-triangle 45] (S) --node[midway,above,draw=none] {$2$} (1);
\draw[-triangle 45] (S) --node[midway,above,draw=none] {$2$} (2);
\draw[-triangle 45] (S) --node[midway,above,draw=none] {$2$} (3);

\draw[-triangle 45] (1) --node[midway,above,draw=none] {$1$} (4);
\draw[-triangle 45] (1) --node[midway,above,draw=none] {$1$} (5);
\draw[-triangle 45] (2) --node[midway,above,draw=none] {$1$} (5);
\draw[-triangle 45] (2) --node[midway,above,draw=none] {$1$} (6);
\draw[-triangle 45] (3) --node[midway,above,draw=none] {$1$} (5);
\draw[-triangle 45] (3) --node[midway,above,draw=none] {$1$} (6);

\draw[-triangle 45] (4) --node[midway,above,draw=none] {$2$} (T);
\draw[-triangle 45] (5) --node[midway,above,draw=none] {$2$} (T);
\draw[-triangle 45] (6) --node[midway,above,draw=none] {$2$} (T);
\end{tikzpicture}

\end{document}

%%% compile by pdflatex --shell-escape filename.tex
%%% then run ./pdf2png.sh *.pdf in figures/
